# Skills Assistant RAG+LLM – НейроВасилиса

## Введение

<div align="center">
  
![Career Assistant RAG System](https://images2.memedroid.com/images/UPLOADED29/51bfa305e4fc3.jpeg)

</div>


Проект представляет собой интеллектуального карьерного ассистента, построенного на архитектуре RAG (Retrieval-Augmented Generation). Система помогает пользователям получать информацию о навыках и требованиях к различным IT-профессиям, извлекая релевантные данные из базы знаний и генерируя структурированные ответы.

**Команда проекта:**
- **Техническая реализация:** Ермакова Дарья, Чудная Анастасия
- **Теоретическая часть:** Смолина Полина, Темишева Алина

## Используемые технологии

- **Язык программирования:** Python
- **Векторная база данных:** Qdrant (cloud version)
- **Модели эмбеддингов:** BAAI/bge-small-en-v1.5 (SentenceTransformers)
- **LLM:** OpenAI GPT-4o-mini
- **Фреймворки:** LlamaIndex, SentenceTransformers, pyTelegramBotAPI
- **Обработка текста:** Regular expressions, текстовые чанкеры

## Файлы проекта

### Основные файлы:
- `main_scrpt.ipynb` - основной файл с полной реализацией проекта
- `text2.txt` - исходный текстовый документ с информацией о карьерных уровнях и навыках
- `test_dataset.json` - тестовый датасет для оценки качества системы

### Содержимое файлов:
- `text2.txt` - содержит структурированную информацию о различных IT-профессиях, их навыках, обязанностях и требованиях
- `test_dataset.json` - включает 10 тестовых вопросов с эталонными ответами и контекстами для оценки

## Структура кода

### 1. Инициализация и настройка
- Импорт необходимых библиотек
- Настройка API ключей (OpenAI, Qdrant)
- Инициализация клиентов и моделей

### 2. Загрузка и обработка данных
- Загрузка документа `text2.txt`
- Разделение текста на чанки (chunk_size=256, overlap=80)
- Подготовка текстовых фрагментов для индексации

### 3. Создание векторных эмбеддингов
- Использование модели BAAI/bge-small-en-v1.5 для создания эмбеддингов
- Нормализация векторов для косинусного расстояния
- Пакетная обработка с прогресс-баром

### 4. Индексация в Qdrant
- Создание коллекции `career_levels_bge_v2`
- Настройка параметров векторов (размер=384, расстояние=COSINE)
- Загрузка точек с метаданными

### 5. RAG-система
- `retrieve()` - поиск релевантных чанков по запросу
- `generate_rag_answer()` - генерация ответа на основе найденного контекста
- `answer()` - основная функция для обработки запросов

### 6. Telegram-бот
- Настройка вебхука и обработчиков сообщений
- Обработка команд `/start` и `/help`
- Потоковая отправка длинных сообщений
- Запуск в отдельном потоке

### 7. Оценка качества
- `simple_text_similarity()` - оценка схожести текстов
- `calculate_context_precision()` - вычисление точности контекста
- `calculate_context_recall()` - вычисление полноты контекста
- `evaluate_rag_system()` - полная оценка системы
- `run_evaluation()` - запуск оценки на тестовом датасете

## Анализ метрик качества

### Результаты оценки:
- **Context Precision (средняя):** 0.6467
- **Context Recall (средняя):** 0.6080
- **Оценено вопросов:** 10

### Детальный анализ:

#### Высокие показатели:
1. **Вопрос 1 (бэкенд-разработчик):** Precision=0.950 - отличная релевантность найденных чанков
2. **Вопрос 9 (MLOps):** Precision=1.000, Recall=1.000 - идеальное соответствие
3. **Вопрос 7 (фронтенд-технологии):** Recall=0.750 - хорошая полнота ответа

#### Проблемные области:
1. **Вопрос 6 (проектный менеджер):** Precision=0.000 - система не нашла релевантных чанков
2. **Вопрос 1 (бэкенд):** Recall=0.111 - низкая полнота, хотя точность высокая
3. **Вопрос 5 (продуктовый менеджер):** Recall=0.286 - недостаточный охват темы

### Выводы:

**Сильные стороны системы:**
- Хорошо справляется с конкретными вопросами (MLOps, технологии фронтенда)
- Высокая точность поиска релевантных чанков (средняя precision 64.7%)
- Эффективно работает с четко сформулированными запросами

**Области для улучшения:**
- Проблема с управленческими ролями: вопросы о проектном менеджменте показывают низкую точность
- Неравномерное покрытие: некоторые темы имеют высокую точность, но низкую полноту
- Зависимость от формулировки: результаты сильно варьируются в зависимости от конкретных терминов в запросе

**Рекомендации по улучшению:**
- Расширение базы знаний 
- Настройка чанкинга для лучшего сохранения контекста
- Увеличение размера чанков для тем, требующих большего контекста
- Добавление синонимов и альтернативных формулировок в поисковые запросы

**Общая эффективность:**
- Система демонстрирует удовлетворительные результаты для MVP
- Показатели precision и recall выше 0.6 указывают на работоспособность подхода
- Система готова к использованию, но требует дальнейшей оптимизации для повышения стабильности ответов

Проект успешно реализует концепцию RAG для консультирования по темам профессионального развития и может служить основой для более сложных систем профессиональной навигации.
Также можете перейти в наш бот и самостоятельно проверить, как хорошо он отвечает на вопросы
[![Telegram Bot](https://img.shields.io/badge/Telegram_Bot-2CA5E0?style=for-the-badge&logo=telegram&logoColor=white)](https://t.me/careerhelragbot)
